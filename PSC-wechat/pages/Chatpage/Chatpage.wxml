<view class="chat-page">
  <!-- è‡ªå®šä¹‰å¯¼èˆªæ  -->
  <view class="custom-navbar">
    <view class="nav-back" bindtap="goBackMainPage">â†</view>
    <view class="nav-title">{{ counselor.name }}</view>
  </view>

  <!-- èŠå¤©æ¶ˆæ¯åŒº -->
  <scroll-view scroll-y="true" class="message-list" :scroll-into-view="toView">
    <block wx:for="{{messages}}" wx:key="index">
      <view class="message-item {{item.isSelf ? 'self' : 'other'}}">
        <view class="bubble">{{item.message}}</view>
      </view>
    </block>
    <view id="bottom"></view>
  </scroll-view>

  <!-- åº•éƒ¨è¾“å…¥åŒº -->
  <view class="input-area">
    <view class="emoji-button" bindtap="toggleEmojiPicker">ğŸ˜Š</view>
    <input class="input-box" placeholder="è¯·è¾“å…¥æ¶ˆæ¯..." value="{{inputMessage}}" bindinput="onInputChange" />
    <button class="send-button" bindtap="sendMessage">å‘é€</button>
  </view>

  <!-- è¡¨æƒ…é¢æ¿ -->
  <view class="emoji-picker" wx:if="{{showEmojiPicker}}">
    <block wx:for="{{emojiList}}" wx:key="index">
      <view class="emoji" bindtap="selectEmoji" data-emoji="{{item}}">{{item}}</view>
    </block>
  </view>
</view>
